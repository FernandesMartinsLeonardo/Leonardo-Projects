{"ast":null,"code":"var _jsxFileName = \"/Users/leonardofernandesmartins/code/Leonardo-Projects/maryam-labe-food10/src/Pages/Profile/OrderHistory.js\";\nimport { Button, TextField } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { BASE_URL } from \"../../constants/urls\";\nimport useProtectedPage from \"../../hooks/useProtectedPage\";\nimport Footer from \"../../Footer/Footer\";\nimport { DivHistory, CardHistory } from \"./styled\";\n\nconst OrderHistory = () => {\n  useProtectedPage();\n  const [historyItems, setHistoryItems] = useState([]);\n  const history = useHistory();\n  const token = localStorage.getItem(\"token\");\n  useEffect(() => {\n    getOrderHistory();\n  }, []);\n\n  const getOrderHistory = () => {\n    axios.get(`${BASE_URL}/orders/history`, {\n      headers: {\n        auth: `${token}`\n      }\n    }).then(res => {\n      setHistoryItems(res.data.orders);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const mappedItems = historyItems.map(item => {\n    const date = new Date(item.createdAt).toISOString().substring(0, 10);\n    const parsedDate = date.split(\"-\");\n    return /*#__PURE__*/React.createElement(CardHistory, {\n      key: item.createdAt,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 14\n      }\n    }, item.restaurantName), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }\n    }, `${parsedDate[2]} / ${parsedDate[1]} / ${parsedDate[0]}`), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }\n    }, \"Subtotal: R$\", item.totalPrice));\n  });\n  return /*#__PURE__*/React.createElement(DivHistory, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, \"Hist\\xF3rico de Pedidos\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }), mappedItems);\n};\n\nexport default OrderHistory;","map":{"version":3,"sources":["/Users/leonardofernandesmartins/code/Leonardo-Projects/maryam-labe-food10/src/Pages/Profile/OrderHistory.js"],"names":["Button","TextField","axios","React","useEffect","useState","useHistory","BASE_URL","useProtectedPage","Footer","DivHistory","CardHistory","OrderHistory","historyItems","setHistoryItems","history","token","localStorage","getItem","getOrderHistory","get","headers","auth","then","res","data","orders","catch","err","console","log","mappedItems","map","item","date","Date","createdAt","toISOString","substring","parsedDate","split","restaurantName","totalPrice"],"mappings":";AAAA,SAASA,MAAT,EAAiBC,SAAjB,QAAkC,mBAAlC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,QAAT,QAAyB,sBAAzB;AACA,OAAOC,gBAAP,MAA6B,8BAA7B;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,SAASC,UAAT,EAAqBC,WAArB,QAAwC,UAAxC;;AAEA,MAAMC,YAAY,GAAG,MAAM;AACzBJ,EAAAA,gBAAgB;AAChB,QAAM,CAACK,YAAD,EAAeC,eAAf,IAAkCT,QAAQ,CAAC,EAAD,CAAhD;AAEA,QAAMU,OAAO,GAAGT,UAAU,EAA1B;AAEA,QAAMU,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;AAEAd,EAAAA,SAAS,CAAC,MAAM;AACde,IAAAA,eAAe;AAChB,GAFQ,EAEN,EAFM,CAAT;;AAIA,QAAMA,eAAe,GAAG,MAAM;AAC5BjB,IAAAA,KAAK,CACFkB,GADH,CACQ,GAAEb,QAAS,iBADnB,EACqC;AACjCc,MAAAA,OAAO,EAAE;AACPC,QAAAA,IAAI,EAAG,GAAEN,KAAM;AADR;AADwB,KADrC,EAMGO,IANH,CAMSC,GAAD,IAAS;AACbV,MAAAA,eAAe,CAACU,GAAG,CAACC,IAAJ,CAASC,MAAV,CAAf;AACD,KARH,EASGC,KATH,CASUC,GAAD,IAAS;AACdC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACD,KAXH;AAYD,GAbD;;AAeA,QAAMG,WAAW,GAAGlB,YAAY,CAACmB,GAAb,CAAkBC,IAAD,IAAU;AAC7C,UAAMC,IAAI,GAAG,IAAIC,IAAJ,CAASF,IAAI,CAACG,SAAd,EAAyBC,WAAzB,GAAuCC,SAAvC,CAAiD,CAAjD,EAAoD,EAApD,CAAb;AACA,UAAMC,UAAU,GAAGL,IAAI,CAACM,KAAL,CAAW,GAAX,CAAnB;AACA,wBACE,oBAAC,WAAD;AAAa,MAAA,GAAG,EAAEP,IAAI,CAACG,SAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eACO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAKH,IAAI,CAACQ,cAAV,CADP,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,GAAEF,UAAU,CAAC,CAAD,CAAI,MAAKA,UAAU,CAAC,CAAD,CAAI,MAAKA,UAAU,CAAC,CAAD,CAAI,EAA3D,CAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAAgBN,IAAI,CAACS,UAArB,CAHF,CADF;AAOD,GAVmB,CAApB;AAYA,sBACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGGX,WAHH,CADF;AAOD,CA9CD;;AAgDA,eAAenB,YAAf","sourcesContent":["import { Button, TextField } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { BASE_URL } from \"../../constants/urls\";\nimport useProtectedPage from \"../../hooks/useProtectedPage\";\nimport Footer from \"../../Footer/Footer\";\nimport { DivHistory, CardHistory } from \"./styled\";\n\nconst OrderHistory = () => {\n  useProtectedPage();\n  const [historyItems, setHistoryItems] = useState([]);\n\n  const history = useHistory();\n\n  const token = localStorage.getItem(\"token\");\n\n  useEffect(() => {\n    getOrderHistory();\n  }, []);\n\n  const getOrderHistory = () => {\n    axios\n      .get(`${BASE_URL}/orders/history`, {\n        headers: {\n          auth: `${token}`,\n        },\n      })\n      .then((res) => {\n        setHistoryItems(res.data.orders);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  const mappedItems = historyItems.map((item) => {\n    const date = new Date(item.createdAt).toISOString().substring(0, 10);\n    const parsedDate = date.split(\"-\");\n    return (\n      <CardHistory key={item.createdAt}>\n        <br/><h4>{item.restaurantName}</h4>\n        <p>{`${parsedDate[2]} / ${parsedDate[1]} / ${parsedDate[0]}`}</p>\n        <p>Subtotal: R${item.totalPrice}</p>\n      </CardHistory>\n    );\n  });\n\n  return (\n    <DivHistory>\n      <h2>Hist√≥rico de Pedidos</h2>\n      <hr/>\n      {mappedItems}\n    </DivHistory>\n  );\n};\n\nexport default OrderHistory;\n"]},"metadata":{},"sourceType":"module"}