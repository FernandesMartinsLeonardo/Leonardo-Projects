{"ast":null,"code":"import _objectSpread from\"/Users/leonardofernandesmartins/code/Leonardo-Projects/iFood/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/leonardofernandesmartins/code/Leonardo-Projects/iFood/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Button,TextField}from\"@material-ui/core\";import axios from\"axios\";import React,{useEffect}from\"react\";import{useHistory}from\"react-router\";import{BASE_URL}from\"../../constants/urls\";import Header from\"../../Header/Header\";import useForm from\"../../Hooks/useForm\";import useProtectedPage from\"../../Hooks/useProtectedPage\";import{goToProfile}from\"../../Router/Coordinator\";import{InputsContainer,ScreenContainer}from\"./styled\";var UpDateAddress=function UpDateAddress(){useProtectedPage();var _useForm=useForm({street:\"\",number:\"\",neighbourhood:\"\",city:\"\",state:\"\",complement:\"\"}),_useForm2=_slicedToArray(_useForm,4),form=_useForm2[0],onChange=_useForm2[1],clear=_useForm2[2],setForm=_useForm2[3];var history=useHistory();var token=localStorage.getItem('token');var onSubmitForm=function onSubmitForm(event){event.preventDefault();upDate();goToProfile(history);};useEffect(function(){getProfile();},[]);var getProfile=function getProfile(){axios.get(\"\".concat(BASE_URL,\"/profile/address\"),{headers:{auth:\"\".concat(token)}}).then(function(res){setForm(_objectSpread(_objectSpread({},form),{},{street:res.data.address.street,number:res.data.address.number,neighbourhood:res.data.address.neighbourhood,city:res.data.address.city,state:res.data.address.state,complement:res.data.address.complement}));}).catch(function(err){console.log(err);});};var upDate=function upDate(){axios.put(\"\".concat(BASE_URL,\"/address\"),form,{headers:{auth:\"\".concat(token)}}).then(function(res){alert(\"atualizado \",res.data);}).catch(function(err){console.log(\"erro \",err);});};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Header,{history:history,title:\"Editar Endereço\"}),/*#__PURE__*/React.createElement(ScreenContainer,null,/*#__PURE__*/React.createElement(InputsContainer,null,/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmitForm},/*#__PURE__*/React.createElement(TextField,{type:\"text\",name:\"street\",value:form.street,onChange:onChange,label:\"Rua/Avenida:\",variant:\"outlined\",margin:\"normal\",fullWidth:true,required:true}),/*#__PURE__*/React.createElement(TextField,{type:\"number\",name:\"number\",value:form.number,onChange:onChange,label:\"Número:\",variant:\"outlined\",margin:\"normal\",fullWidth:true,required:true}),/*#__PURE__*/React.createElement(TextField,{type:\"text\",name:\"neighbourhood\",value:form.neighbourhood,onChange:onChange,label:\"Bairro:\",variant:\"outlined\",margin:\"normal\",fullWidth:true,required:true}),/*#__PURE__*/React.createElement(TextField,{type:\"text\",name:\"state\",value:form.state,onChange:onChange,label:\"Estado:\",variant:\"outlined\",margin:\"normal\",fullWidth:true,required:true}),/*#__PURE__*/React.createElement(TextField,{type:\"text\",name:\"city\",value:form.city,onChange:onChange,label:\"Cidade:\",variant:\"outlined\",margin:\"normal\",fullWidth:true,required:true}),/*#__PURE__*/React.createElement(TextField,{type:\"text\",name:\"complement\",value:form.complement,onChange:onChange,label:\"Complemento:\",variant:\"outlined\",margin:\"normal\",fullWidth:true}),/*#__PURE__*/React.createElement(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",margin:\"normal\"},\"Salvar\")))));};export default UpDateAddress;","map":{"version":3,"sources":["/Users/leonardofernandesmartins/code/Leonardo-Projects/iFood/src/Pages/UpDateAddress/UpDateAddressPage.js"],"names":["Button","TextField","axios","React","useEffect","useHistory","BASE_URL","Header","useForm","useProtectedPage","goToProfile","InputsContainer","ScreenContainer","UpDateAddress","street","number","neighbourhood","city","state","complement","form","onChange","clear","setForm","history","token","localStorage","getItem","onSubmitForm","event","preventDefault","upDate","getProfile","get","headers","auth","then","res","data","address","catch","err","console","log","put","alert"],"mappings":"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","sourcesContent":["import { Button, TextField } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport React, { useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { BASE_URL } from \"../../constants/urls\";\nimport Header from \"../../Header/Header\";\nimport useForm from \"../../Hooks/useForm\";\nimport useProtectedPage from \"../../Hooks/useProtectedPage\";\nimport { goToProfile } from \"../../Router/Coordinator\";\nimport { InputsContainer, ScreenContainer } from \"./styled\";\n\nconst UpDateAddress = () => {\n  useProtectedPage();\n\n  const [form, onChange, clear, setForm] = useForm({\n    street: \"\",\n    number: \"\",\n    neighbourhood: \"\",\n    city: \"\",\n    state: \"\",\n    complement: \"\"\n  })\n\n  const history = useHistory()\n  const token = localStorage.getItem('token')\n  const onSubmitForm = (event) => {\n    event.preventDefault()\n    upDate()\n    goToProfile(history)\n  }\n  useEffect(() => {\n    getProfile()\n  }, [])\n  const getProfile = () => {\n    axios.get(`${BASE_URL}/profile/address`, {\n      headers: {\n        auth: `${token}`\n      }\n    }).then((res) => {\n      setForm({\n        ...form,\n        street: res.data.address.street,\n        number: res.data.address.number,\n        neighbourhood: res.data.address.neighbourhood,\n        city: res.data.address.city,\n        state: res.data.address.state,\n        complement: res.data.address.complement\n      })\n    }).catch((err) => {\n      console.log(err)\n    })\n  }\n\n  const upDate = () => {\n    axios.put(`${BASE_URL}/address`, form, {\n      headers: {\n        auth: `${token}`\n      }\n    }).then((res) => {\n      alert(\"atualizado \", res.data)\n    }).catch((err) => {\n      console.log(\"erro \", err)\n    })\n  }\n\n  return (\n    <div>\n    <Header history={history} title = {\"Editar Endereço\"}/>\n    <ScreenContainer>\n      <InputsContainer>\n\n        <form onSubmit={onSubmitForm}>\n          <TextField\n            type={\"text\"}\n            name={\"street\"}\n            value={form.street}\n            onChange={onChange}\n            label={\"Rua/Avenida:\"}\n            variant={\"outlined\"}\n            margin= {\"normal\"}\n            fullWidth\n            required\n          />\n          <TextField\n            type={\"number\"}\n            name={\"number\"}\n            value={form.number}\n            onChange={onChange}\n            label={\"Número:\"}\n            variant={\"outlined\"}\n            margin={\"normal\"}\n            fullWidth\n            required\n          />\n          <TextField\n            type={\"text\"}\n            name={\"neighbourhood\"}\n            value={form.neighbourhood}\n            onChange={onChange}\n            label={\"Bairro:\"}\n            variant={\"outlined\"}\n            margin={\"normal\"}\n            fullWidth\n            required\n          />\n          <TextField\n            type={\"text\"}\n            name={\"state\"}\n            value={form.state}\n            onChange={onChange}\n            label={\"Estado:\"}\n            variant={\"outlined\"}\n            margin={\"normal\"}\n            fullWidth\n            required\n          />\n          <TextField\n            type={\"text\"}\n            name={\"city\"}\n            value={form.city}\n            onChange={onChange}\n            label={\"Cidade:\"}\n            variant={\"outlined\"}\n            margin={\"normal\"}\n            fullWidth\n            required\n          />\n          <TextField\n            type={\"text\"}\n            name={\"complement\"}\n            value={form.complement}\n            onChange={onChange}\n            label={\"Complemento:\"}\n            variant={\"outlined\"}\n            margin={\"normal\"}\n            fullWidth\n          />\n          <Button\n            type={\"submit\"}\n            fullWidth\n            variant={\"contained\"}\n            color={\"primary\"}\n            margin={\"normal\"}\n          >\n            Salvar\n          </Button>\n        </form>\n      </InputsContainer>\n    </ScreenContainer>\n    </div>\n  )\n};\n\nexport default UpDateAddress;\n"]},"metadata":{},"sourceType":"module"}