{"ast":null,"code":"var _jsxFileName = \"/Users/leonardofernandesmartins/code/Leonardo-Projects/iFood/src/Pages/Restaurant/RestaurantProducts.js\";\nimport React, { useContext } from 'react';\nimport useRequestData from '../../Hooks/useRequestData';\nimport { BASE_URL } from '../../constants/urls';\nimport GlobalStateContext from '../../Global/GlobalStateContext';\nimport { Typography } from '@material-ui/core';\nimport { CardContent } from '@material-ui/core';\nimport { CardMedia } from '@material-ui/core';\nimport { Card } from '@material-ui/core';\nimport styled from 'styled-components';\nconst AddButton = styled.button`\nmargin-right: 12px;\n`;\n\nconst RestaurantProducts = props => {\n  const {\n    setRestaurantId\n  } = useContext(GlobalStateContext);\n  const {\n    cart,\n    setCart\n  } = useContext(GlobalStateContext);\n\n  const addToCart = detail => {\n    const position = cart.findIndex(item => {\n      return detail.id === item.id;\n    });\n    let newCart = [...cart];\n\n    if (position === -1) {\n      newCart.push({ ...detail,\n        quantity: 1\n      });\n    } else {\n      newCart[position].quantity += 1;\n    }\n\n    setCart(newCart);\n    setRestaurantId(props.restaurantId);\n  };\n\n  const restaurantDetails = useRequestData([], `${BASE_URL}/restaurants/${props.restaurantId}`);\n  const renderRestaurantDetail = restaurantDetails && restaurantDetails.restaurant && restaurantDetails.restaurant.products && restaurantDetails.restaurant.products.map(detail => {\n    return /*#__PURE__*/React.createElement(Card, {\n      sx: {\n        maxWidth: 345\n      },\n      key: detail.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 20\n      }\n    }, /*#__PURE__*/React.createElement(CardMedia, {\n      component: \"img\",\n      height: \"140\",\n      image: detail.photoUrl,\n      alt: \"Logo do restauranta\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(CardContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Typography, {\n      gutterBottom: true,\n      variant: \"h5\",\n      component: \"div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 21\n      }\n    }, detail.name), /*#__PURE__*/React.createElement(Typography, {\n      gutterBottom: true,\n      variant: \"h6\",\n      component: \"div\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }\n    }, detail.category), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body2\",\n      color: \"text.secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 21\n      }\n    }, detail.description), /*#__PURE__*/React.createElement(Typography, {\n      variant: \"body2\",\n      color: \"text.secondary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }\n    }, \"R$ \", detail.price), /*#__PURE__*/React.createElement(AddButton, {\n      id: \"botton-add\",\n      onClick: () => addToCart(detail),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 21\n      }\n    }, \"Adicionar\"), cart && cart.map(product => {\n      if (product.id === detail.id) {\n        return /*#__PURE__*/React.createElement(\"span\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 36\n          }\n        }, product.quantity, \"X\");\n      }\n    })));\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, renderRestaurantDetail);\n};\n\nexport default RestaurantProducts;","map":{"version":3,"sources":["/Users/leonardofernandesmartins/code/Leonardo-Projects/iFood/src/Pages/Restaurant/RestaurantProducts.js"],"names":["React","useContext","useRequestData","BASE_URL","GlobalStateContext","Typography","CardContent","CardMedia","Card","styled","AddButton","button","RestaurantProducts","props","setRestaurantId","cart","setCart","addToCart","detail","position","findIndex","item","id","newCart","push","quantity","restaurantId","restaurantDetails","renderRestaurantDetail","restaurant","products","map","maxWidth","photoUrl","name","category","description","price","product"],"mappings":"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","sourcesContent":["import React, { useContext } from 'react'\nimport useRequestData from '../../Hooks/useRequestData'\nimport { BASE_URL } from '../../constants/urls'\nimport GlobalStateContext from '../../Global/GlobalStateContext'\nimport { Typography } from '@material-ui/core'\nimport { CardContent } from '@material-ui/core'\nimport { CardMedia } from '@material-ui/core'\nimport { Card } from '@material-ui/core'\nimport styled from 'styled-components'\n\nconst AddButton = styled.button`\nmargin-right: 12px;\n`\n\nconst RestaurantProducts = (props) => {\n\n    const { setRestaurantId } = useContext(GlobalStateContext)\n    const { cart, setCart } = useContext(GlobalStateContext)\n\n    const addToCart = (detail) => {\n        const position = cart.findIndex((item) => {\n            return detail.id === item.id\n        })\n\n        let newCart = [...cart]\n\n        if (position === -1) {\n            newCart.push({ ...detail, quantity: 1 })\n        } else {\n            newCart[position].quantity += 1\n        }\n        setCart(newCart)\n        setRestaurantId(props.restaurantId)\n    }\n\n    const restaurantDetails = useRequestData([], `${BASE_URL}/restaurants/${props.restaurantId}`)\n\n    const renderRestaurantDetail = restaurantDetails && restaurantDetails.restaurant &&\n        restaurantDetails.restaurant.products && restaurantDetails.restaurant.products.map((detail) => {\n            return <Card sx={{ maxWidth: 345 }}\n                key={detail.id}\n            >\n                <CardMedia\n                    component=\"img\"\n                    height=\"140\"\n                    image={detail.photoUrl}\n                    alt=\"Logo do restauranta\"\n                />\n                <CardContent>\n                    <Typography gutterBottom variant=\"h5\" component=\"div\">\n                        {detail.name}\n                    </Typography>\n                    <Typography gutterBottom variant=\"h6\" component=\"div\">\n                        {detail.category}\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"text.secondary\">\n                        {detail.description}\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"text.secondary\">\n                        R$ {detail.price}\n                    </Typography>\n                    <AddButton id='botton-add' onClick={() => addToCart(detail)}>Adicionar</AddButton>\n                    {cart && cart.map((product) => {\n                        if (product.id === detail.id) {\n                            return <span>{product.quantity}X</span>\n                        }\n                    })}\n                </CardContent>\n            </Card>\n\n        })\n\n    return (\n        <div>\n            {renderRestaurantDetail}\n        </div>\n    )\n}\nexport default RestaurantProducts\n"]},"metadata":{},"sourceType":"module"}