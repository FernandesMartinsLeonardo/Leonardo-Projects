{"ast":null,"code":"var _jsxFileName = \"/Users/leonardofernandesmartins/code/Leonardo-Projects/maryam-labe-food10/src/Pages/Login/LoginForm.js\";\nimport useForm from \"../../hooks/useForm\";\nimport React, { useState } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport axios from \"axios\";\nimport { goToFeed } from \"../../Router/Coordinator\";\nimport { useHistory } from \"react-router\";\nimport { BASE_URL } from \"../../constants/urls\";\nimport { ContainerForm } from \"./styled\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nconst LoginForm = () => {\n  const history = useHistory();\n  const [form, onChange, clear] = useForm({\n    email: \"\",\n    password: \"\"\n  });\n  const [isLoading, setIsloading] = useState(false);\n\n  const onSubmitForm = e => {\n    e.preventDefault();\n    login(setIsloading);\n  };\n\n  const login = () => {\n    setIsloading(true);\n    axios.post(`${BASE_URL}/login`, form).then(res => {\n      localStorage.setItem(\"token\", res.data.token);\n      clear();\n      setIsloading(false);\n      goToFeed(history);\n    }).catch(err => {\n      alert(\"Erro no login!\");\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ContainerForm, {\n    onSubmit: onSubmitForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    name: \"email\",\n    value: form.email,\n    onChange: onChange,\n    label: \"E-mail\",\n    variant: \"outlined\",\n    fullWidth: true,\n    margin: \"normal\",\n    required: true,\n    type: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    name: \"password\",\n    value: form.password,\n    onChange: onChange,\n    label: \"Senha\",\n    variant: \"outlined\",\n    fullWidth: true,\n    margin: \"normal\",\n    required: true,\n    type: \"password\",\n    id: \"password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, isLoading ? /*#__PURE__*/React.createElement(CircularProgress, {\n    color: \"inherit\",\n    size: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }) : /*#__PURE__*/React.createElement(React.Fragment, null, \"Entrar\"))));\n};\n\nexport default LoginForm;","map":{"version":3,"sources":["/Users/leonardofernandesmartins/code/Leonardo-Projects/maryam-labe-food10/src/Pages/Login/LoginForm.js"],"names":["useForm","React","useState","TextField","Button","axios","goToFeed","useHistory","BASE_URL","ContainerForm","CircularProgress","LoginForm","history","form","onChange","clear","email","password","isLoading","setIsloading","onSubmitForm","e","preventDefault","login","post","then","res","localStorage","setItem","data","token","catch","err","alert"],"mappings":"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","sourcesContent":["import useForm from \"../../hooks/useForm\";\nimport React, { useState } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport axios from \"axios\";\nimport { goToFeed } from \"../../Router/Coordinator\";\nimport { useHistory } from \"react-router\";\nimport { BASE_URL } from \"../../constants/urls\";\nimport { ContainerForm } from \"./styled\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nconst LoginForm = () => {\n  const history = useHistory();\n\n  const [form, onChange, clear] = useForm({ email: \"\", password: \"\" });\n  const [isLoading, setIsloading] = useState(false);\n\n  const onSubmitForm = (e) => {\n    e.preventDefault();\n    login(setIsloading);\n  };\n\n  const login = () => {\n    setIsloading(true);\n    axios\n      .post(`${BASE_URL}/login`, form)\n      .then((res) => {\n        localStorage.setItem(\"token\", res.data.token);\n        clear();\n        setIsloading(false);\n        goToFeed(history);\n      })\n      .catch((err) => {\n        alert(\"Erro no login!\");\n      });\n  };\n\n  return (\n    <div>\n      <ContainerForm onSubmit={onSubmitForm}>\n        <TextField\n          name={\"email\"}\n          value={form.email}\n          onChange={onChange}\n          label={\"E-mail\"}\n          variant={\"outlined\"}\n          fullWidth\n          margin={\"normal\"}\n          required\n          type={\"email\"}\n        />\n        <TextField\n          name={\"password\"}\n          value={form.password}\n          onChange={onChange}\n          label={\"Senha\"}\n          variant={\"outlined\"}\n          fullWidth\n          margin={\"normal\"}\n          required\n          type={\"password\"}\n          id={\"password\"}\n        />\n        <Button\n          type={\"submit\"}\n          fullWidth\n          variant={\"contained\"}\n          color={\"primary\"}\n        >\n          {isLoading ? (\n            <CircularProgress color={\"inherit\"} size={24} />\n          ) : (\n            <>Entrar</>\n          )}\n        </Button>\n      </ContainerForm>\n    </div>\n  );\n};\n\nexport default LoginForm;\n"]},"metadata":{},"sourceType":"module"}