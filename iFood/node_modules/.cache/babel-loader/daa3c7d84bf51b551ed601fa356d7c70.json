{"ast":null,"code":"import _slicedToArray from\"/Users/leonardofernandesmartins/code/Leonardo-Projects/iFood/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import useForm from\"../../Hooks/useForm\";import React,{useState}from\"react\";import TextField from\"@material-ui/core/TextField\";import Button from\"@material-ui/core/Button\";import axios from\"axios\";import{goToFeed}from\"../../Router/Coordinator\";import{useHistory}from\"react-router\";import{BASE_URL}from\"../../constants/urls\";import{ContainerForm}from\"./styled\";import CircularProgress from\"@material-ui/core/CircularProgress\";var LoginForm=function LoginForm(){var history=useHistory();var _useForm=useForm({email:\"\",password:\"\"}),_useForm2=_slicedToArray(_useForm,3),form=_useForm2[0],onChange=_useForm2[1],clear=_useForm2[2];var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsloading=_useState2[1];var onSubmitForm=function onSubmitForm(e){e.preventDefault();login(setIsloading);};var login=function login(){setIsloading(true);axios.post(\"\".concat(BASE_URL,\"/login\"),form).then(function(res){localStorage.setItem(\"token\",res.data.token);clear();setIsloading(false);goToFeed(history);}).catch(function(err){alert(\"Erro no login!\");});};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(ContainerForm,{onSubmit:onSubmitForm},/*#__PURE__*/React.createElement(TextField,{name:\"email\",value:form.email,onChange:onChange,label:\"E-mail\",variant:\"outlined\",fullWidth:true,margin:\"normal\",required:true,type:\"email\"}),/*#__PURE__*/React.createElement(TextField,{name:\"password\",value:form.password,onChange:onChange,label:\"Senha\",variant:\"outlined\",fullWidth:true,margin:\"normal\",required:true,type:\"password\",id:\"password\"}),/*#__PURE__*/React.createElement(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\"},isLoading?/*#__PURE__*/React.createElement(CircularProgress,{color:\"inherit\",size:24}):/*#__PURE__*/React.createElement(React.Fragment,null,\"Entrar\"))));};export default LoginForm;","map":{"version":3,"sources":["/Users/leonardofernandesmartins/code/Leonardo-Projects/iFood/src/Pages/Login/LoginForm.js"],"names":["useForm","React","useState","TextField","Button","axios","goToFeed","useHistory","BASE_URL","ContainerForm","CircularProgress","LoginForm","history","email","password","form","onChange","clear","isLoading","setIsloading","onSubmitForm","e","preventDefault","login","post","then","res","localStorage","setItem","data","token","catch","err","alert"],"mappings":"mLAAA,MAAOA,CAAAA,OAAP,KAAoB,qBAApB,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,QAAT,KAAyB,0BAAzB,CACA,OAASC,UAAT,KAA2B,cAA3B,CACA,OAASC,QAAT,KAAyB,sBAAzB,CACA,OAASC,aAAT,KAA8B,UAA9B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,oCAA7B,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtB,GAAMC,CAAAA,OAAO,CAAGL,UAAU,EAA1B,CADsB,aAGUP,OAAO,CAAC,CAAEa,KAAK,CAAE,EAAT,CAAaC,QAAQ,CAAE,EAAvB,CAAD,CAHjB,sCAGfC,IAHe,cAGTC,QAHS,cAGCC,KAHD,4BAIYf,QAAQ,CAAC,KAAD,CAJpB,wCAIfgB,SAJe,eAIJC,YAJI,eAMtB,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1BA,CAAC,CAACC,cAAF,GACAC,KAAK,CAACJ,YAAD,CAAL,CACD,CAHD,CAKA,GAAMI,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAClBJ,YAAY,CAAC,IAAD,CAAZ,CACAd,KAAK,CACFmB,IADH,WACWhB,QADX,WAC6BO,IAD7B,EAEGU,IAFH,CAEQ,SAACC,GAAD,CAAS,CACbC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAA8BF,GAAG,CAACG,IAAJ,CAASC,KAAvC,EACAb,KAAK,GACLE,YAAY,CAAC,KAAD,CAAZ,CACAb,QAAQ,CAACM,OAAD,CAAR,CACD,CAPH,EAQGmB,KARH,CAQS,SAACC,GAAD,CAAS,CACdC,KAAK,CAAC,gBAAD,CAAL,CACD,CAVH,EAWD,CAbD,CAeA,mBACE,4CACE,oBAAC,aAAD,EAAe,QAAQ,CAAEb,YAAzB,eACE,oBAAC,SAAD,EACE,IAAI,CAAE,OADR,CAEE,KAAK,CAAEL,IAAI,CAACF,KAFd,CAGE,QAAQ,CAAEG,QAHZ,CAIE,KAAK,CAAE,QAJT,CAKE,OAAO,CAAE,UALX,CAME,SAAS,KANX,CAOE,MAAM,CAAE,QAPV,CAQE,QAAQ,KARV,CASE,IAAI,CAAE,OATR,EADF,cAYE,oBAAC,SAAD,EACE,IAAI,CAAE,UADR,CAEE,KAAK,CAAED,IAAI,CAACD,QAFd,CAGE,QAAQ,CAAEE,QAHZ,CAIE,KAAK,CAAE,OAJT,CAKE,OAAO,CAAE,UALX,CAME,SAAS,KANX,CAOE,MAAM,CAAE,QAPV,CAQE,QAAQ,KARV,CASE,IAAI,CAAE,UATR,CAUE,EAAE,CAAE,UAVN,EAZF,cAwBE,oBAAC,MAAD,EACE,IAAI,CAAE,QADR,CAEE,SAAS,KAFX,CAGE,OAAO,CAAE,WAHX,CAIE,KAAK,CAAE,SAJT,EAMGE,SAAS,cACR,oBAAC,gBAAD,EAAkB,KAAK,CAAE,SAAzB,CAAoC,IAAI,CAAE,EAA1C,EADQ,cAGR,iDATJ,CAxBF,CADF,CADF,CAyCD,CAnED,CAqEA,cAAeP,CAAAA,SAAf","sourcesContent":["import useForm from \"../../Hooks/useForm\";\nimport React, { useState } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport axios from \"axios\";\nimport { goToFeed } from \"../../Router/Coordinator\";\nimport { useHistory } from \"react-router\";\nimport { BASE_URL } from \"../../constants/urls\";\nimport { ContainerForm } from \"./styled\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nconst LoginForm = () => {\n  const history = useHistory();\n\n  const [form, onChange, clear] = useForm({ email: \"\", password: \"\" });\n  const [isLoading, setIsloading] = useState(false);\n\n  const onSubmitForm = (e) => {\n    e.preventDefault();\n    login(setIsloading);\n  };\n\n  const login = () => {\n    setIsloading(true);\n    axios\n      .post(`${BASE_URL}/login`, form)\n      .then((res) => {\n        localStorage.setItem(\"token\", res.data.token);\n        clear();\n        setIsloading(false);\n        goToFeed(history);\n      })\n      .catch((err) => {\n        alert(\"Erro no login!\");\n      });\n  };\n\n  return (\n    <div>\n      <ContainerForm onSubmit={onSubmitForm}>\n        <TextField\n          name={\"email\"}\n          value={form.email}\n          onChange={onChange}\n          label={\"E-mail\"}\n          variant={\"outlined\"}\n          fullWidth\n          margin={\"normal\"}\n          required\n          type={\"email\"}\n        />\n        <TextField\n          name={\"password\"}\n          value={form.password}\n          onChange={onChange}\n          label={\"Senha\"}\n          variant={\"outlined\"}\n          fullWidth\n          margin={\"normal\"}\n          required\n          type={\"password\"}\n          id={\"password\"}\n        />\n        <Button\n          type={\"submit\"}\n          fullWidth\n          variant={\"contained\"}\n          color={\"primary\"}\n        >\n          {isLoading ? (\n            <CircularProgress color={\"inherit\"} size={24} />\n          ) : (\n            <>Entrar</>\n          )}\n        </Button>\n      </ContainerForm>\n    </div>\n  );\n};\n\nexport default LoginForm;\n"]},"metadata":{},"sourceType":"module"}