{"ast":null,"code":"var _jsxFileName = \"/Users/leonardofernandesmartins/code/Leonardo-Projects/maryam-labe-food10/src/Pages/UpDateProfile/UpDadeProfile.js\";\nimport { Button, TextField } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport React, { useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { BASE_URL } from \"../../constants/urls\";\nimport Header from \"../../Header/Header\";\nimport useForm from \"../../hooks/useForm\";\nimport useProtectedPage from \"../../hooks/useProtectedPage\";\nimport { goToProfile } from \"../../Router/Coordinator\";\nimport { InputsContainer, ScreenContainer } from \"./styled\";\n\nconst UpDateProfile = () => {\n  useProtectedPage();\n  const [form, onChange, clear, setForm] = useForm({\n    name: \"\",\n    email: \"\",\n    cpf: \"\"\n  });\n  const history = useHistory();\n  const token = localStorage.getItem('token');\n\n  const onSubmitForm = event => {\n    event.preventDefault();\n    upDate();\n    goToProfile(history);\n  };\n\n  useEffect(() => {\n    getProfile();\n  }, []);\n\n  const getProfile = () => {\n    axios.get(`${BASE_URL}/profile`, {\n      headers: {\n        auth: `${token}`\n      }\n    }).then(res => {\n      setForm({ ...form,\n        name: res.data.user.name,\n        email: res.data.user.email,\n        cpf: res.data.user.cpf\n      });\n    }).catch(err => {\n      console.log(\"erro\", err);\n    });\n  };\n\n  const upDate = () => {\n    axios.put(`${BASE_URL}/profile`, form, {\n      headers: {\n        auth: `${token}`\n      }\n    }).then(res => {\n      alert(\"Atualizado\");\n    }).catch(err => {\n      console.log(\"erro \", err);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    history: history,\n    title: \"Editar Perfil\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(ScreenContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(InputsContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmitForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(TextField, {\n    type: \"text\",\n    name: \"name\",\n    value: form.name,\n    onChange: onChange,\n    label: \"Nome:\",\n    variant: \"outlined\",\n    margin: \"normal\",\n    fullWidth: true,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    type: \"email\",\n    name: \"email\",\n    value: form.email,\n    onChange: onChange,\n    label: \"E-mail:\",\n    variant: \"outlined\",\n    margin: \"normal\",\n    fullWidth: true,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(TextField, {\n    type: \"text\",\n    name: \"cpf\",\n    value: form.cpf,\n    onChange: onChange,\n    label: \"CPF:\",\n    variant: \"outlined\",\n    margin: \"normal\",\n    fullWidth: true,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    fullWidth: true,\n    variant: \"contained\",\n    color: \"primary\",\n    margin: \"normal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, \"Salvar\")))));\n};\n\nexport default UpDateProfile;","map":{"version":3,"sources":["/Users/leonardofernandesmartins/code/Leonardo-Projects/maryam-labe-food10/src/Pages/UpDateProfile/UpDadeProfile.js"],"names":["Button","TextField","axios","React","useEffect","useHistory","BASE_URL","Header","useForm","useProtectedPage","goToProfile","InputsContainer","ScreenContainer","UpDateProfile","form","onChange","clear","setForm","name","email","cpf","history","token","localStorage","getItem","onSubmitForm","event","preventDefault","upDate","getProfile","get","headers","auth","then","res","data","user","catch","err","console","log","put","alert"],"mappings":"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","sourcesContent":["import { Button, TextField } from \"@material-ui/core\";\nimport axios from \"axios\";\nimport React, { useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { BASE_URL } from \"../../constants/urls\";\nimport Header from \"../../Header/Header\";\nimport useForm from \"../../hooks/useForm\";\nimport useProtectedPage from \"../../hooks/useProtectedPage\";\nimport { goToProfile } from \"../../Router/Coordinator\";\nimport { InputsContainer, ScreenContainer } from \"./styled\";\n\nconst UpDateProfile = () => {\n    useProtectedPage();\n\n    const [form, onChange, clear, setForm] = useForm({\n        name: \"\",\n        email: \"\",\n        cpf: \"\"\n    })\n   \n    const history =useHistory()\n    const token = localStorage.getItem('token')\n    const onSubmitForm = (event) => {\n        event.preventDefault()\n        upDate()\n        goToProfile(history)\n    }\n    useEffect(()=>{\n        getProfile()\n    },[])\n    const getProfile = () => {\n        axios.get(`${BASE_URL}/profile`, {\n            headers:{\n                auth: `${token}`\n            }}).then((res)=> {\n                setForm({...form,\n                     name: res.data.user.name,\n                     email: res.data.user.email,\n                     cpf: res.data.user.cpf\n                })\n            }).catch((err)=> {\n                console.log(\"erro\", err)\n            })\n    }\n    \n    const upDate = () => {\n        axios.put(`${BASE_URL}/profile`, form, {\n            headers:{\n                auth: `${token}`\n            }}).then((res) => {\n                alert(\"Atualizado\")\n            }).catch((err)=>{\n                console.log(\"erro \", err)\n            })\n    }\n\n    return (\n        <div>\n            <Header history={history} title = {\"Editar Perfil\"}/>\n        <ScreenContainer>\n            <InputsContainer>\n                <form onSubmit={onSubmitForm}>\n                    <TextField \n                        type={\"text\"}\n                        name={\"name\"}\n                        value={form.name}\n                        onChange={onChange}\n                        label={\"Nome:\"}\n                        variant={\"outlined\"}\n                        margin={\"normal\"}\n                        fullWidth\n                        required\n                    />\n                    <TextField\n                        type={\"email\"}\n                        name={\"email\"}\n                        value={form.email}\n                        onChange={onChange}\n                        label={\"E-mail:\"}\n                        variant={\"outlined\"}\n                        margin={\"normal\"}\n                        fullWidth\n                        required\n                    />\n                    <TextField\n                        type={\"text\"}\n                        name={\"cpf\"}\n                        value={form.cpf}\n                        onChange={onChange}\n                        label={\"CPF:\"}\n                        variant={\"outlined\"}\n                        margin={\"normal\"}\n                        fullWidth\n                        required\n                    />\n                    <Button\n                        type={\"submit\"}\n                        fullWidth\n                        variant={\"contained\"}\n                        color={\"primary\"}\n                        margin={\"normal\"}\n                    >\n                        Salvar\n                    </Button>\n                </form>\n            </InputsContainer>\n        </ScreenContainer>\n        </div>\n    )\n};\n\nexport default UpDateProfile;"]},"metadata":{},"sourceType":"module"}