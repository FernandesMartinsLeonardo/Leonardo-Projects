{"ast":null,"code":"import _objectSpread from\"/Users/leonardofernandesmartins/code/Leonardo-Projects/iFood/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"/Users/leonardofernandesmartins/code/Leonardo-Projects/iFood/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _taggedTemplateLiteral from\"/Users/leonardofernandesmartins/code/Leonardo-Projects/iFood/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject(){var data=_taggedTemplateLiteral([\"\\nmargin-right: 12px;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useContext}from'react';import useRequestData from'../../Hooks/useRequestData';import{BASE_URL}from'../../constants/urls';import GlobalStateContext from'../../Global/GlobalStateContext';import{Typography}from'@material-ui/core';import{CardContent}from'@material-ui/core';import{CardMedia}from'@material-ui/core';import{Card}from'@material-ui/core';import styled from'styled-components';var AddButton=styled.button(_templateObject());var RestaurantProducts=function RestaurantProducts(props){var _useContext=useContext(GlobalStateContext),setRestaurantId=_useContext.setRestaurantId;var _useContext2=useContext(GlobalStateContext),cart=_useContext2.cart,setCart=_useContext2.setCart;var addToCart=function addToCart(detail){var position=cart.findIndex(function(item){return detail.id===item.id;});var newCart=_toConsumableArray(cart);if(position===-1){newCart.push(_objectSpread(_objectSpread({},detail),{},{quantity:1}));}else{newCart[position].quantity+=1;}setCart(newCart);setRestaurantId(props.restaurantId);};var restaurantDetails=useRequestData([],\"\".concat(BASE_URL,\"/restaurants/\").concat(props.restaurantId));var renderRestaurantDetail=restaurantDetails&&restaurantDetails.restaurant&&restaurantDetails.restaurant.products&&restaurantDetails.restaurant.products.map(function(detail){return/*#__PURE__*/React.createElement(Card,{sx:{maxWidth:345},key:detail.id},/*#__PURE__*/React.createElement(CardMedia,{component:\"img\",height:\"140\",image:detail.photoUrl,alt:\"Logo do restauranta\"}),/*#__PURE__*/React.createElement(CardContent,null,/*#__PURE__*/React.createElement(Typography,{gutterBottom:true,variant:\"h5\",component:\"div\"},detail.name),/*#__PURE__*/React.createElement(Typography,{gutterBottom:true,variant:\"h6\",component:\"div\"},detail.category),/*#__PURE__*/React.createElement(Typography,{variant:\"body2\",color:\"text.secondary\"},detail.description),/*#__PURE__*/React.createElement(Typography,{variant:\"body2\",color:\"text.secondary\"},\"R$ \",detail.price),/*#__PURE__*/React.createElement(AddButton,{id:\"botton-add\",onClick:function onClick(){return addToCart(detail);}},\"Adicionar\"),cart&&cart.map(function(product){if(product.id===detail.id){return/*#__PURE__*/React.createElement(\"span\",null,product.quantity,\"X\");}})));});return/*#__PURE__*/React.createElement(\"div\",null,renderRestaurantDetail);};export default RestaurantProducts;","map":{"version":3,"sources":["/Users/leonardofernandesmartins/code/Leonardo-Projects/iFood/src/Pages/Restaurant/RestaurantProducts.js"],"names":["React","useContext","useRequestData","BASE_URL","GlobalStateContext","Typography","CardContent","CardMedia","Card","styled","AddButton","button","RestaurantProducts","props","setRestaurantId","cart","setCart","addToCart","detail","position","findIndex","item","id","newCart","push","quantity","restaurantId","restaurantDetails","renderRestaurantDetail","restaurant","products","map","maxWidth","photoUrl","name","category","description","price","product"],"mappings":"8sBAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,KAAkC,OAAlC,CACA,MAAOC,CAAAA,cAAP,KAA2B,4BAA3B,CACA,OAASC,QAAT,KAAyB,sBAAzB,CACA,MAAOC,CAAAA,kBAAP,KAA+B,iCAA/B,CACA,OAASC,UAAT,KAA2B,mBAA3B,CACA,OAASC,WAAT,KAA4B,mBAA5B,CACA,OAASC,SAAT,KAA0B,mBAA1B,CACA,OAASC,IAAT,KAAqB,mBAArB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CAEA,GAAMC,CAAAA,SAAS,CAAGD,MAAM,CAACE,MAAV,mBAAf,CAIA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAACC,KAAD,CAAW,iBAENZ,UAAU,CAACG,kBAAD,CAFJ,CAE1BU,eAF0B,aAE1BA,eAF0B,kBAGRb,UAAU,CAACG,kBAAD,CAHF,CAG1BW,IAH0B,cAG1BA,IAH0B,CAGpBC,OAHoB,cAGpBA,OAHoB,CAKlC,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,MAAD,CAAY,CAC1B,GAAMC,CAAAA,QAAQ,CAAGJ,IAAI,CAACK,SAAL,CAAe,SAACC,IAAD,CAAU,CACtC,MAAOH,CAAAA,MAAM,CAACI,EAAP,GAAcD,IAAI,CAACC,EAA1B,CACH,CAFgB,CAAjB,CAIA,GAAIC,CAAAA,OAAO,oBAAOR,IAAP,CAAX,CAEA,GAAII,QAAQ,GAAK,CAAC,CAAlB,CAAqB,CACjBI,OAAO,CAACC,IAAR,gCAAkBN,MAAlB,MAA0BO,QAAQ,CAAE,CAApC,IACH,CAFD,IAEO,CACHF,OAAO,CAACJ,QAAD,CAAP,CAAkBM,QAAlB,EAA8B,CAA9B,CACH,CACDT,OAAO,CAACO,OAAD,CAAP,CACAT,eAAe,CAACD,KAAK,CAACa,YAAP,CAAf,CACH,CAdD,CAgBA,GAAMC,CAAAA,iBAAiB,CAAGzB,cAAc,CAAC,EAAD,WAAQC,QAAR,yBAAgCU,KAAK,CAACa,YAAtC,EAAxC,CAEA,GAAME,CAAAA,sBAAsB,CAAGD,iBAAiB,EAAIA,iBAAiB,CAACE,UAAvC,EAC3BF,iBAAiB,CAACE,UAAlB,CAA6BC,QADF,EACcH,iBAAiB,CAACE,UAAlB,CAA6BC,QAA7B,CAAsCC,GAAtC,CAA0C,SAACb,MAAD,CAAY,CAC3F,mBAAO,oBAAC,IAAD,EAAM,EAAE,CAAE,CAAEc,QAAQ,CAAE,GAAZ,CAAV,CACH,GAAG,CAAEd,MAAM,CAACI,EADT,eAGH,oBAAC,SAAD,EACI,SAAS,CAAC,KADd,CAEI,MAAM,CAAC,KAFX,CAGI,KAAK,CAAEJ,MAAM,CAACe,QAHlB,CAII,GAAG,CAAC,qBAJR,EAHG,cASH,oBAAC,WAAD,mBACI,oBAAC,UAAD,EAAY,YAAY,KAAxB,CAAyB,OAAO,CAAC,IAAjC,CAAsC,SAAS,CAAC,KAAhD,EACKf,MAAM,CAACgB,IADZ,CADJ,cAII,oBAAC,UAAD,EAAY,YAAY,KAAxB,CAAyB,OAAO,CAAC,IAAjC,CAAsC,SAAS,CAAC,KAAhD,EACKhB,MAAM,CAACiB,QADZ,CAJJ,cAOI,oBAAC,UAAD,EAAY,OAAO,CAAC,OAApB,CAA4B,KAAK,CAAC,gBAAlC,EACKjB,MAAM,CAACkB,WADZ,CAPJ,cAUI,oBAAC,UAAD,EAAY,OAAO,CAAC,OAApB,CAA4B,KAAK,CAAC,gBAAlC,QACQlB,MAAM,CAACmB,KADf,CAVJ,cAaI,oBAAC,SAAD,EAAW,EAAE,CAAC,YAAd,CAA2B,OAAO,CAAE,yBAAMpB,CAAAA,SAAS,CAACC,MAAD,CAAf,EAApC,cAbJ,CAcKH,IAAI,EAAIA,IAAI,CAACgB,GAAL,CAAS,SAACO,OAAD,CAAa,CAC3B,GAAIA,OAAO,CAAChB,EAAR,GAAeJ,MAAM,CAACI,EAA1B,CAA8B,CAC1B,mBAAO,gCAAOgB,OAAO,CAACb,QAAf,KAAP,CACH,CACJ,CAJQ,CAdb,CATG,CAAP,CA+BH,CAhCwC,CAD7C,CAmCA,mBACI,+BACKG,sBADL,CADJ,CAKH,CA/DD,CAgEA,cAAehB,CAAAA,kBAAf","sourcesContent":["import React, { useContext } from 'react'\nimport useRequestData from '../../Hooks/useRequestData'\nimport { BASE_URL } from '../../constants/urls'\nimport GlobalStateContext from '../../Global/GlobalStateContext'\nimport { Typography } from '@material-ui/core'\nimport { CardContent } from '@material-ui/core'\nimport { CardMedia } from '@material-ui/core'\nimport { Card } from '@material-ui/core'\nimport styled from 'styled-components'\n\nconst AddButton = styled.button`\nmargin-right: 12px;\n`\n\nconst RestaurantProducts = (props) => {\n\n    const { setRestaurantId } = useContext(GlobalStateContext)\n    const { cart, setCart } = useContext(GlobalStateContext)\n\n    const addToCart = (detail) => {\n        const position = cart.findIndex((item) => {\n            return detail.id === item.id\n        })\n\n        let newCart = [...cart]\n\n        if (position === -1) {\n            newCart.push({ ...detail, quantity: 1 })\n        } else {\n            newCart[position].quantity += 1\n        }\n        setCart(newCart)\n        setRestaurantId(props.restaurantId)\n    }\n\n    const restaurantDetails = useRequestData([], `${BASE_URL}/restaurants/${props.restaurantId}`)\n\n    const renderRestaurantDetail = restaurantDetails && restaurantDetails.restaurant &&\n        restaurantDetails.restaurant.products && restaurantDetails.restaurant.products.map((detail) => {\n            return <Card sx={{ maxWidth: 345 }}\n                key={detail.id}\n            >\n                <CardMedia\n                    component=\"img\"\n                    height=\"140\"\n                    image={detail.photoUrl}\n                    alt=\"Logo do restauranta\"\n                />\n                <CardContent>\n                    <Typography gutterBottom variant=\"h5\" component=\"div\">\n                        {detail.name}\n                    </Typography>\n                    <Typography gutterBottom variant=\"h6\" component=\"div\">\n                        {detail.category}\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"text.secondary\">\n                        {detail.description}\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"text.secondary\">\n                        R$ {detail.price}\n                    </Typography>\n                    <AddButton id='botton-add' onClick={() => addToCart(detail)}>Adicionar</AddButton>\n                    {cart && cart.map((product) => {\n                        if (product.id === detail.id) {\n                            return <span>{product.quantity}X</span>\n                        }\n                    })}\n                </CardContent>\n            </Card>\n\n        })\n\n    return (\n        <div>\n            {renderRestaurantDetail}\n        </div>\n    )\n}\nexport default RestaurantProducts\n"]},"metadata":{},"sourceType":"module"}