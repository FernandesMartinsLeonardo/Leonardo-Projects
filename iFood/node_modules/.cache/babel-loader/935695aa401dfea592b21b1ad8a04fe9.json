{"ast":null,"code":"import _slicedToArray from\"/Users/leonardofernandesmartins/code/Leonardo-Projects/iFood/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import useRequestData from\"../Hooks/useRequestData\";import{BASE_URL}from\"../constants/urls\";import GlobalStateContext from\"./GlobalStateContext\";import InitialLoading from\"../components/InitialLoading/InitialLoadingPage\";import axios from\"axios\";var GlobalState=function GlobalState(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),cart=_useState2[0],setCart=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),restaurants=_useState4[0],setRestaurants=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),appLoaded=_useState6[0],setAppLoaded=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),total=_useState8[0],setTotal=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isClicked=_useState10[0],setIsClicked=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),isAmount=_useState12[0],setIsAmount=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),buyObject=_useState14[0],setBuyObject=_useState14[1];var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),restaurantId=_useState16[0],setRestaurantId=_useState16[1];var _useState17=useState({products:[],paymentMethod:\"\"}),_useState18=_slicedToArray(_useState17,2),confirmBuy=_useState18[0],setConfirmBuy=_useState18[1];useEffect(function(){axios.get(\"\".concat(BASE_URL,\"/restaurants\"),{headers:{auth:localStorage.getItem('token')}}).then(function(res){setRestaurants(res.data.restaurants);}).catch(function(err){console.log(err);});setTimeout(function(){setAppLoaded(true);},2000);},[]);var data={restaurantId:restaurantId,setRestaurantId:setRestaurantId,confirmBuy:confirmBuy,setConfirmBuy:setConfirmBuy,buyObject:buyObject,setBuyObject:setBuyObject,isAmount:isAmount,setIsAmount:setIsAmount,cart:cart,setCart:setCart,restaurants:restaurants,total:total,setTotal:setTotal,isClicked:isClicked,setIsClicked:setIsClicked};return/*#__PURE__*/React.createElement(GlobalStateContext.Provider,{value:data},appLoaded?props.children:/*#__PURE__*/React.createElement(InitialLoading,null));};export default GlobalState;","map":{"version":3,"sources":["/Users/leonardofernandesmartins/code/Leonardo-Projects/iFood/src/Global/GlobalState.js"],"names":["React","useState","useEffect","useRequestData","BASE_URL","GlobalStateContext","InitialLoading","axios","GlobalState","props","cart","setCart","restaurants","setRestaurants","appLoaded","setAppLoaded","total","setTotal","isClicked","setIsClicked","isAmount","setIsAmount","buyObject","setBuyObject","restaurantId","setRestaurantId","products","paymentMethod","confirmBuy","setConfirmBuy","get","headers","auth","localStorage","getItem","then","res","data","catch","err","console","log","setTimeout","children"],"mappings":"mLAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,cAAP,KAA2B,yBAA3B,CACA,OAASC,QAAT,KAAyB,mBAAzB,CACA,MAAOC,CAAAA,kBAAP,KAA+B,sBAA/B,CACA,MAAOC,CAAAA,cAAP,KAA2B,iDAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,CAAW,eAGLR,QAAQ,CAAC,EAAD,CAHH,wCAGtBS,IAHsB,eAGhBC,OAHgB,8BAISV,QAAQ,CAAC,EAAD,CAJjB,yCAItBW,WAJsB,eAITC,cAJS,8BAKKZ,QAAQ,CAAC,KAAD,CALb,yCAKtBa,SALsB,eAKXC,YALW,8BAMHd,QAAQ,CAAC,CAAD,CANL,yCAMtBe,KANsB,eAMfC,QANe,8BAOKhB,QAAQ,CAAC,KAAD,CAPb,0CAOtBiB,SAPsB,gBAOXC,YAPW,gCAQGlB,QAAQ,CAAC,KAAD,CARX,2CAQtBmB,QARsB,gBAQZC,WARY,gCASKpB,QAAQ,EATb,2CAStBqB,SATsB,gBASXC,YATW,gCAUWtB,QAAQ,EAVnB,2CAUtBuB,YAVsB,gBAURC,eAVQ,gCAWOxB,QAAQ,CAAC,CAC3CyB,QAAQ,CAAE,EADiC,CAE3CC,aAAa,CAAE,EAF4B,CAAD,CAXf,2CAWtBC,UAXsB,gBAWVC,aAXU,gBAgB7B3B,SAAS,CAAC,UAAM,CACdK,KAAK,CAACuB,GAAN,WAAa1B,QAAb,iBAAqC,CACnC2B,OAAO,CAAE,CACPC,IAAI,CAAEC,YAAY,CAACC,OAAb,CAAqB,OAArB,CADC,CAD0B,CAArC,EAIGC,IAJH,CAIQ,SAACC,GAAD,CAAO,CACbvB,cAAc,CAACuB,GAAG,CAACC,IAAJ,CAASzB,WAAV,CAAd,CACD,CAND,EAMG0B,KANH,CAMS,SAACC,GAAD,CAAO,CACdC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACD,CARD,EAUAG,UAAU,CAAC,UAAM,CACf3B,YAAY,CAAC,IAAD,CAAZ,CACD,CAFS,CAEP,IAFO,CAAV,CAGD,CAdQ,CAcN,EAdM,CAAT,CAeA,GAAMsB,CAAAA,IAAI,CAAG,CACXb,YAAY,CAAZA,YADW,CAEXC,eAAe,CAAfA,eAFW,CAGXG,UAAU,CAAVA,UAHW,CAIXC,aAAa,CAAbA,aAJW,CAKXP,SAAS,CAATA,SALW,CAMXC,YAAY,CAAZA,YANW,CAOXH,QAAQ,CAARA,QAPW,CAQXC,WAAW,CAAXA,WARW,CASXX,IAAI,CAAJA,IATW,CAUXC,OAAO,CAAPA,OAVW,CAWXC,WAAW,CAAXA,WAXW,CAYXI,KAAK,CAALA,KAZW,CAaXC,QAAQ,CAARA,QAbW,CAcXC,SAAS,CAATA,SAdW,CAeXC,YAAY,CAAZA,YAfW,CAAb,CAkBA,mBACE,oBAAC,kBAAD,CAAoB,QAApB,EAA6B,KAAK,CAAEkB,IAApC,EACGvB,SAAS,CAAGL,KAAK,CAACkC,QAAT,cAAoB,oBAAC,cAAD,MADhC,CADF,CAKD,CAtDD,CAwDA,cAAenC,CAAAA,WAAf","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport useRequestData from \"../Hooks/useRequestData\";\nimport { BASE_URL } from \"../constants/urls\";\nimport GlobalStateContext from \"./GlobalStateContext\";\nimport InitialLoading from \"../components/InitialLoading/InitialLoadingPage\";\nimport axios from \"axios\";\nconst GlobalState = (props) => {\n\n\n  const [cart, setCart] = useState([]);\n  const [restaurants, setRestaurants] = useState([]);\n  const [appLoaded, setAppLoaded] = useState(false);\n  const [total, setTotal] = useState(0);\n  const [isClicked, setIsClicked] = useState(false);\n  const [isAmount, setIsAmount] = useState(false);\n  const [buyObject, setBuyObject] = useState();\n  const [restaurantId, setRestaurantId] = useState();\n  const [confirmBuy, setConfirmBuy] = useState({\n    products: [],\n    paymentMethod: \"\",\n  });\n\n  useEffect(() => {\n    axios.get(`${BASE_URL}/restaurants`, {\n      headers: {\n        auth: localStorage.getItem('token')\n      }\n    }).then((res)=>{\n      setRestaurants(res.data.restaurants)\n    }).catch((err)=>{\n      console.log(err)\n    })\n\n    setTimeout(() => {\n      setAppLoaded(true);\n    }, 2000);\n  }, []);\n  const data = {\n    restaurantId,\n    setRestaurantId,\n    confirmBuy,\n    setConfirmBuy,\n    buyObject,\n    setBuyObject,\n    isAmount,\n    setIsAmount,\n    cart,\n    setCart,\n    restaurants,\n    total,\n    setTotal,\n    isClicked,\n    setIsClicked,\n  };\n\n  return (\n    <GlobalStateContext.Provider value={data}>\n      {appLoaded ? props.children : <InitialLoading />}\n    </GlobalStateContext.Provider>\n  );\n};\n\nexport default GlobalState;\n"]},"metadata":{},"sourceType":"module"}