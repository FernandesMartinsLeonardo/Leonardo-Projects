{"ast":null,"code":"var _jsxFileName = \"/Users/leonardofernandesmartins/code/Leonardo-Projects/maryam-labe-food10/src/Pages/Profile/ProfilePage.js\";\nimport axios from \"axios\";\nimport React, { useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { BASE_URL } from \"../../constants/urls\";\nimport Header from \"../../Header/Header\";\nimport useForm from \"../../Hooks/useForm\";\nimport useProtectedPage from \"../../Hooks/useProtectedPage\";\nimport { goToProfile, goToUpDateProfile, goToUpDateAddress } from \"../../Router/Coordinator\";\nimport edit from \"../../assets/edit.png\";\nimport Footer from \"../../Footer/Footer\";\nimport { ProfileAddress, ProfileData, ProfileContainer } from \"./styled\";\nimport OrderHistory from \"./OrderHistory\";\n\nconst ProfilePage = () => {\n  useProtectedPage();\n  const [form, onChange, clear, setForm] = useForm({\n    name: \"\",\n    email: \"\",\n    cpf: \"\",\n    address: \"\"\n  });\n  const history = useHistory();\n  const token = localStorage.getItem(\"token\");\n\n  const onSubmitForm = event => {\n    event.preventDefault();\n    goToProfile(history);\n  };\n\n  useEffect(() => {\n    getProfile();\n  }, []);\n\n  const getProfile = () => {\n    axios.get(`${BASE_URL}/profile`, {\n      headers: {\n        auth: `${token}`\n      }\n    }).then(res => {\n      setForm({ ...form,\n        name: res.data.user.name,\n        email: res.data.user.email,\n        cpf: res.data.user.cpf,\n        address: res.data.user.address\n      });\n    }).catch(err => {\n      alert(err);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ProfileContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    history: history,\n    title: \"Perfil\",\n    logout: history,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 14\n    }\n  }, \"Dados cadastrados:\"), /*#__PURE__*/React.createElement(ProfileData, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, form.name), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }\n  }, form.email), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, form.cpf)), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => goToUpDateProfile(history),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: edit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, \"Endere\\xE7o cadastrado:\"), /*#__PURE__*/React.createElement(ProfileAddress, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, form.address), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => goToUpDateAddress(history),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: edit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }))), /*#__PURE__*/React.createElement(OrderHistory, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Footer, {\n    profile: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default ProfilePage;","map":{"version":3,"sources":["/Users/leonardofernandesmartins/code/Leonardo-Projects/maryam-labe-food10/src/Pages/Profile/ProfilePage.js"],"names":["axios","React","useEffect","useHistory","BASE_URL","Header","useForm","useProtectedPage","goToProfile","goToUpDateProfile","goToUpDateAddress","edit","Footer","ProfileAddress","ProfileData","ProfileContainer","OrderHistory","ProfilePage","form","onChange","clear","setForm","name","email","cpf","address","history","token","localStorage","getItem","onSubmitForm","event","preventDefault","getProfile","get","headers","auth","then","res","data","user","catch","err","alert"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, { useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { BASE_URL } from \"../../constants/urls\";\nimport Header from \"../../Header/Header\";\nimport useForm from \"../../Hooks/useForm\";\nimport useProtectedPage from \"../../Hooks/useProtectedPage\";\nimport {\n  goToProfile,\n  goToUpDateProfile,\n  goToUpDateAddress,\n} from \"../../Router/Coordinator\";\nimport edit from \"../../assets/edit.png\";\nimport Footer from \"../../Footer/Footer\";\nimport { ProfileAddress, ProfileData, ProfileContainer } from \"./styled\";\nimport OrderHistory from \"./OrderHistory\";\n\nconst ProfilePage = () => {\n  useProtectedPage();\n\n  const [form, onChange, clear, setForm] = useForm({\n    name: \"\",\n    email: \"\",\n    cpf: \"\",\n    address: \"\",\n  });\n\n  const history = useHistory();\n\n  const token = localStorage.getItem(\"token\");\n  const onSubmitForm = (event) => {\n    event.preventDefault();\n    goToProfile(history);\n  };\n  useEffect(() => {\n    getProfile();\n  }, []);\n  const getProfile = () => {\n    axios\n      .get(`${BASE_URL}/profile`, {\n        headers: {\n          auth: `${token}`,\n        },\n      })\n      .then((res) => {\n        setForm({\n          ...form,\n          name: res.data.user.name,\n          email: res.data.user.email,\n          cpf: res.data.user.cpf,\n          address: res.data.user.address,\n        });\n      })\n      .catch((err) => {\n        alert(err);\n      });\n  };\n\n  return (\n    <div>\n      <ProfileContainer>\n        <Header history={history} title={\"Perfil\"} logout={history} />\n        <br/><h4>Dados cadastrados:</h4>\n        <ProfileData>\n          <div>\n            <p>{form.name}</p>\n            <p>{form.email}</p>\n            <p>{form.cpf}</p>\n          </div>\n          <button onClick={() => goToUpDateProfile(history)}>\n            <img src={edit} />\n          </button>\n        </ProfileData>\n\n        <h4>Endereço cadastrado:</h4>\n        <ProfileAddress>\n          <p>{form.address}</p>\n          <button onClick={() => goToUpDateAddress(history)}>\n            <img src={edit} />\n          </button>\n        </ProfileAddress>\n\n        <OrderHistory />\n      </ProfileContainer>\n      <Footer profile={true} />\n    </div>\n  );\n};\n\nexport default ProfilePage;\n"]},"metadata":{},"sourceType":"module"}