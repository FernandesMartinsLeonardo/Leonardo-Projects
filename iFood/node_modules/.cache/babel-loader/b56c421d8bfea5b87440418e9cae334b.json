{"ast":null,"code":"import _slicedToArray from\"/Users/leonardofernandesmartins/code/Leonardo-Projects/iFood/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import{ScreenContainer,InputsContainer}from'./styled';import useForm from'../../Hooks/useForm';import axios from'axios';import{BASE_URL}from'../../constants/urls';import{Button,TextField}from'@material-ui/core';import{goToFeed}from'../../Router/Coordinator';import{useHistory}from'react-router';import useProtectedPage from'../../Hooks/useProtectedPage';var AddressPage=function AddressPage(){useProtectedPage();var token=localStorage.getItem(\"token\");var _useForm=useForm({street:\"\",number:\"\",neighbourhood:\"\",city:\"\",state:\"\",complement:\"\"}),_useForm2=_slicedToArray(_useForm,3),form=_useForm2[0],onChange=_useForm2[1],clear=_useForm2[2];var history=useHistory();var onSubmitForm=function onSubmitForm(event){event.preventDefault();addAddress();};var addAddress=function addAddress(){axios.put(\"\".concat(BASE_URL,\"/address\"),form,{headers:{auth:\"\".concat(token)}}).then(function(res){localStorage.setItem(\"token\",res.data.token);clear();goToFeed(history);}).catch(function(err){console.log(err);});};return/*#__PURE__*/React.createElement(ScreenContainer,null,/*#__PURE__*/React.createElement(InputsContainer,null,/*#__PURE__*/React.createElement(\"p\",null,\"Meu Endere\\xE7o\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmitForm},/*#__PURE__*/React.createElement(TextField,{type:\"text\",name:\"street\",value:form.street,onChange:onChange,label:\"Rua/Avenida:\",variant:\"outlined\",margin:\"normal\",fullWidth:true,required:true}),/*#__PURE__*/React.createElement(TextField,{type:\"number\",name:\"number\",value:form.number,onChange:onChange,label:\"Número:\",variant:\"outlined\",margin:\"normal\",fullWidth:true,required:true}),/*#__PURE__*/React.createElement(TextField,{type:\"text\",name:\"neighbourhood\",value:form.neighbourhood,onChange:onChange,label:\"Bairro:\",variant:\"outlined\",margin:\"normal\",fullWidth:true,required:true}),/*#__PURE__*/React.createElement(TextField,{type:\"text\",name:\"state\",value:form.state,onChange:onChange,label:\"Estado:\",variant:\"outlined\",margin:\"normal\",fullWidth:true,required:true}),/*#__PURE__*/React.createElement(TextField,{type:\"text\",name:\"city\",value:form.city,onChange:onChange,label:\"Cidade:\",variant:\"outlined\",margin:\"normal\",fullWidth:true,required:true}),/*#__PURE__*/React.createElement(TextField,{type:\"text\",name:\"complement\",value:form.complement,onChange:onChange,label:\"Complemento:\",variant:\"outlined\",margin:\"normal\",fullWidth:true}),/*#__PURE__*/React.createElement(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",margin:\"normal\"},\"Salvar\"))));};export default AddressPage;","map":{"version":3,"sources":["/Users/leonardofernandesmartins/code/Leonardo-Projects/iFood/src/Pages/Address/AddressPage.js"],"names":["React","ScreenContainer","InputsContainer","useForm","axios","BASE_URL","Button","TextField","goToFeed","useHistory","useProtectedPage","AddressPage","token","localStorage","getItem","street","number","neighbourhood","city","state","complement","form","onChange","clear","history","onSubmitForm","event","preventDefault","addAddress","put","headers","auth","then","res","setItem","data","catch","err","console","log"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { ScreenContainer, InputsContainer } from './styled'\nimport useForm from '../../Hooks/useForm'\nimport axios from 'axios'\nimport { BASE_URL } from '../../constants/urls'\nimport { Button, TextField } from '@material-ui/core'\nimport { goToFeed } from '../../Router/Coordinator'\nimport { useHistory } from 'react-router'\n\nimport useProtectedPage from '../../Hooks/useProtectedPage'\n\nconst AddressPage = () => {\n    useProtectedPage()\n    const token = localStorage.getItem(\"token\")\n    const [form, onChange, clear] = useForm({\n        street: \"\",\n        number: \"\",\n        neighbourhood: \"\",\n        city: \"\",\n        state: \"\",\n        complement: \"\"\n    })\n\n    const history = useHistory()\n\n    const onSubmitForm = (event) => {\n        event.preventDefault()\n        addAddress()\n    }\n    const addAddress = () => {\n        axios.put(`${BASE_URL}/address`, form, {\n            headers:{\n                auth: `${token}`\n            }\n        }).then((res)=>{\n            localStorage.setItem(\"token\", res.data.token)\n            clear()\n            goToFeed(history)\n        }).catch((err)=>{\n            console.log(err)\n        })\n    }\n    return (\n        <ScreenContainer>\n            <InputsContainer>\n                <p>Meu Endereço</p>\n                <form onSubmit={onSubmitForm}>\n                <TextField\n                        type={\"text\"}\n                        name={\"street\"}\n                        value={form.street}\n                        onChange={onChange}\n                        label={\"Rua/Avenida:\"}\n                        variant={\"outlined\"}\n                        margin={\"normal\"}\n                        fullWidth\n                        required\n                    />\n                     <TextField\n                        type={\"number\"}\n                        name={\"number\"}\n                        value={form.number}\n                        onChange={onChange}\n                        label={\"Número:\"}\n                        variant={\"outlined\"}\n                        margin={\"normal\"}\n                        fullWidth\n                        required\n                    />\n                     <TextField\n                        type={\"text\"}\n                        name={\"neighbourhood\"}\n                        value={form.neighbourhood}\n                        onChange={onChange}\n                        label={\"Bairro:\"}\n                        variant={\"outlined\"}\n                        margin={\"normal\"}\n                        fullWidth\n                        required\n                    />\n                     <TextField\n                        type={\"text\"}\n                        name={\"state\"}\n                        value={form.state}\n                        onChange={onChange}\n                        label={\"Estado:\"}\n                        variant={\"outlined\"}\n                        margin={\"normal\"}\n                        fullWidth\n                        required\n                    />\n                     <TextField\n                        type={\"text\"}\n                        name={\"city\"}\n                        value={form.city}\n                        onChange={onChange}\n                        label={\"Cidade:\"}\n                        variant={\"outlined\"}\n                        margin={\"normal\"}\n                        fullWidth\n                        required\n                    />\n                     <TextField\n                        type={\"text\"}\n                        name={\"complement\"}\n                        value={form.complement}\n                        onChange={onChange}\n                        label={\"Complemento:\"}\n                        variant={\"outlined\"}\n                        margin={\"normal\"}\n                        fullWidth\n                    />\n                     <Button\n                        type={\"submit\"}\n                        fullWidth\n                        variant={\"contained\"}\n                        color={\"primary\"}\n                        margin={\"normal\"}\n                    >\n                        Salvar\n                    </Button>\n                </form>\n            </InputsContainer>\n        </ScreenContainer>\n    )\n}\n\nexport default AddressPage\n"]},"metadata":{},"sourceType":"module"}