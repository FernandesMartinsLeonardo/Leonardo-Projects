{"ast":null,"code":"var _jsxFileName = \"/Users/leonardofernandesmartins/code/Leonardo-Projects/iFood/src/Pages/ShopCart/ShopCart.js\";\nimport React, { useEffect, useContext } from \"react\";\nimport GlobalStateContext from \"../../Global/GlobalStateContext\";\nimport Footer from \"../../Footer/Footer\";\nimport ShopCartCard from \"./ShopCartCard\";\nimport useProtectedPage from \"../../Hooks/useProtectedPage\";\nimport useRequestData from \"../../Hooks/useRequestData\";\nimport { BASE_URL } from \"../../constants/urls\";\nimport ShopCardForm from \"./ShopCardForm\";\nimport Header from \"../../Header/Header\";\nimport { useHistory } from \"react-router\";\nimport { DivWhite } from \"./styled\";\nimport { Restaurant } from \"@material-ui/icons\";\n\nconst ShopCart = () => {\n  useProtectedPage();\n  const history = useHistory();\n  const getAddress = useRequestData([], `${BASE_URL}/profile/address`);\n  const {\n    confirmBuy,\n    setConfirmBuy\n  } = useContext(GlobalStateContext);\n  const {\n    buyObject,\n    setBuyObject\n  } = useContext(GlobalStateContext);\n  const {\n    cart,\n    total,\n    setTotal\n  } = useContext(GlobalStateContext);\n  const confirmObject = cart && cart.map(product => {\n    return {\n      id: product.id,\n      quantity: product.quantity\n    };\n  });\n  useEffect(() => {\n    const newConfirmBuy = { ...confirmBuy,\n      products: buyObject\n    };\n    buyObject && setConfirmBuy(newConfirmBuy);\n  }, [buyObject]);\n  useEffect(() => {\n    confirmObject && setBuyObject(confirmObject);\n  }, [cart]);\n  useEffect(() => {\n    let newTotal = 0;\n    cart.forEach(product => {\n      newTotal += product.price * product.quantity;\n      setTotal(newTotal);\n    });\n  }, [cart]);\n  const renderAdress = getAddress && getAddress.address && /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, `${getAddress.address.street}, ${getAddress.address.number}`);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    history: history,\n    title: \"Meu Carrinho\",\n    logout: history,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, renderAdress), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  }, cart && cart.length !== 0 ? /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, \"Subtotal: R$ \", total.toFixed(2)) : /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 11\n    }\n  }, \"Carrinho vazio\")), /*#__PURE__*/React.createElement(ShopCartCard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, \"Forma de pagamento\"), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(ShopCardForm, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(DivWhite, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Footer, {\n    ShopCart: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default ShopCart;","map":{"version":3,"sources":["/Users/leonardofernandesmartins/code/Leonardo-Projects/iFood/src/Pages/ShopCart/ShopCart.js"],"names":["React","useEffect","useContext","GlobalStateContext","Footer","ShopCartCard","useProtectedPage","useRequestData","BASE_URL","ShopCardForm","Header","useHistory","DivWhite","Restaurant","ShopCart","history","getAddress","confirmBuy","setConfirmBuy","buyObject","setBuyObject","cart","total","setTotal","confirmObject","map","product","id","quantity","newConfirmBuy","products","newTotal","forEach","price","renderAdress","address","street","number","length","toFixed"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,UAA3B,QAA6C,OAA7C;AACA,OAAOC,kBAAP,MAA+B,iCAA/B;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,gBAAP,MAA6B,8BAA7B;AACA,OAAOC,cAAP,MAA2B,4BAA3B;AACA,SAASC,QAAT,QAAyB,sBAAzB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,QAAT,QAAyB,UAAzB;AACA,SAASC,UAAT,QAA2B,oBAA3B;;AAEA,MAAMC,QAAQ,GAAG,MAAM;AACrBR,EAAAA,gBAAgB;AAChB,QAAMS,OAAO,GAAGJ,UAAU,EAA1B;AAEA,QAAMK,UAAU,GAAGT,cAAc,CAAC,EAAD,EAAM,GAAEC,QAAS,kBAAjB,CAAjC;AAEA,QAAM;AAAES,IAAAA,UAAF;AAAcC,IAAAA;AAAd,MAAgChB,UAAU,CAACC,kBAAD,CAAhD;AACA,QAAM;AAAEgB,IAAAA,SAAF;AAAaC,IAAAA;AAAb,MAA8BlB,UAAU,CAACC,kBAAD,CAA9C;AACA,QAAM;AAAEkB,IAAAA,IAAF;AAAQC,IAAAA,KAAR;AAAeC,IAAAA;AAAf,MAA4BrB,UAAU,CAACC,kBAAD,CAA5C;AAEA,QAAMqB,aAAa,GACjBH,IAAI,IACJA,IAAI,CAACI,GAAL,CAAUC,OAAD,IAAa;AACpB,WAAO;AACLC,MAAAA,EAAE,EAAED,OAAO,CAACC,EADP;AAELC,MAAAA,QAAQ,EAAEF,OAAO,CAACE;AAFb,KAAP;AAID,GALD,CAFF;AASA3B,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM4B,aAAa,GAAG,EAAE,GAAGZ,UAAL;AAAiBa,MAAAA,QAAQ,EAAEX;AAA3B,KAAtB;AACAA,IAAAA,SAAS,IAAID,aAAa,CAACW,aAAD,CAA1B;AACD,GAHQ,EAGN,CAACV,SAAD,CAHM,CAAT;AAKAlB,EAAAA,SAAS,CAAC,MAAM;AACduB,IAAAA,aAAa,IAAIJ,YAAY,CAACI,aAAD,CAA7B;AACD,GAFQ,EAEN,CAACH,IAAD,CAFM,CAAT;AAIApB,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI8B,QAAQ,GAAG,CAAf;AACAV,IAAAA,IAAI,CAACW,OAAL,CAAcN,OAAD,IAAa;AACxBK,MAAAA,QAAQ,IAAIL,OAAO,CAACO,KAAR,GAAgBP,OAAO,CAACE,QAApC;AACAL,MAAAA,QAAQ,CAACQ,QAAD,CAAR;AACD,KAHD;AAID,GANQ,EAMN,CAACV,IAAD,CANM,CAAT;AAQA,QAAMa,YAAY,GAAGlB,UAAU,IAAIA,UAAU,CAACmB,OAAzB,iBACnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAO,GAAEnB,UAAU,CAACmB,OAAX,CAAmBC,MAAO,KAAIpB,UAAU,CAACmB,OAAX,CAAmBE,MAAO,EAAjE,CADF;AAIA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,OAAO,EAAEtB,OAAjB;AAA0B,IAAA,KAAK,EAAE,cAAjC;AAAiD,IAAA,MAAM,EAAEA,OAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAImB,YAAJ,CAFF,eAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGb,IAAI,IAAIA,IAAI,CAACiB,MAAL,KAAgB,CAAxB,gBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAkBhB,KAAK,CAACiB,OAAN,CAAc,CAAd,CAAlB,CADD,gBAGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJJ,CAJF,eAWE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAXF,eAYE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAZF,eAaE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAbF,eAcE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAdF,eAeE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAfF,eAgBE,oBAAC,MAAD;AAAQ,IAAA,QAAQ,EAAE,IAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAhBF,CADF;AAoBD,CA5DD;;AA6DA,eAAezB,QAAf","sourcesContent":["import React, { useEffect, useContext } from \"react\";\nimport GlobalStateContext from \"../../Global/GlobalStateContext\";\nimport Footer from \"../../Footer/Footer\";\nimport ShopCartCard from \"./ShopCartCard\";\nimport useProtectedPage from \"../../Hooks/useProtectedPage\";\nimport useRequestData from \"../../Hooks/useRequestData\";\nimport { BASE_URL } from \"../../constants/urls\";\nimport ShopCardForm from \"./ShopCardForm\";\nimport Header from \"../../Header/Header\";\nimport { useHistory } from \"react-router\";\nimport { DivWhite } from \"./styled\";\nimport { Restaurant } from \"@material-ui/icons\";\n\nconst ShopCart = () => {\n  useProtectedPage();\n  const history = useHistory();\n\n  const getAddress = useRequestData([], `${BASE_URL}/profile/address`);\n\n  const { confirmBuy, setConfirmBuy } = useContext(GlobalStateContext);\n  const { buyObject, setBuyObject } = useContext(GlobalStateContext);\n  const { cart, total, setTotal } = useContext(GlobalStateContext);\n\n  const confirmObject =\n    cart &&\n    cart.map((product) => {\n      return {\n        id: product.id,\n        quantity: product.quantity,\n      };\n    });\n\n  useEffect(() => {\n    const newConfirmBuy = { ...confirmBuy, products: buyObject };\n    buyObject && setConfirmBuy(newConfirmBuy);\n  }, [buyObject]);\n\n  useEffect(() => {\n    confirmObject && setBuyObject(confirmObject);\n  }, [cart]);\n\n  useEffect(() => {\n    let newTotal = 0;\n    cart.forEach((product) => {\n      newTotal += product.price * product.quantity;\n      setTotal(newTotal);\n    });\n  }, [cart]);\n\n  const renderAdress = getAddress && getAddress.address && (\n    <div>{`${getAddress.address.street}, ${getAddress.address.number}`}</div>\n  );\n\n  return (\n    <div>\n      <Header history={history} title={\"Meu Carrinho\"} logout={history} />\n      <p>{renderAdress}</p>\n      <hr />\n      <div>\n        {cart && cart.length !== 0 ? (\n          <h3>Subtotal: R$ {total.toFixed(2)}</h3>\n        ) : (\n          <h4>Carrinho vazio</h4>\n        )}\n      </div>\n      <ShopCartCard />\n      <p>Forma de pagamento</p>\n      <hr />\n      <ShopCardForm />\n      <DivWhite></DivWhite>\n      <Footer ShopCart={true} />\n    </div>\n  );\n};\nexport default ShopCart;\n"]},"metadata":{},"sourceType":"module"}